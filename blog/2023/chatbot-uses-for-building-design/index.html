<!DOCTYPE html>
<html lang="en" data-theme="dark" style="font-size: 100%;" id="root">
<head>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-985K5YZDEY"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-985K5YZDEY');
    </script>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="robots" content="all" />

    <script defer src="/Scripts/script.js"></script>
    <script async src="/Scripts/settings.js"></script>


    <link href="https://fonts.googleapis.com/css2?family=Lora:ital@0;1&family=Roboto+Mono:ital@0;1&family=Ubuntu:ital@0;1&display=swap" rel="stylesheet"> 

    <link rel="apple-touch-icon" sizes="180x180" href="/Favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/Favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/Favicon/favicon-16x16.png">
    <link rel="manifest" href="/Favicon/site.webmanifest">

    <link rel="stylesheet" type="text/css" href="/blog/blog.css">

    <title>Chatbot Uses for Building Design</title>

</head>

<button class="settings-cog" id="settings-cog" tabindex=0 aria-label="settings cog for font, theme, and font size" onclick="openMenu()">
    <svg aria-label="settings cog svg" class="cog-color" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="36" height="36"><title>Settings Menu</title><path fill="none" d="M0 0h24v24H0z"/><path d="M3.34 17a10.018 10.018 0 0 1-.978-2.326 3 3 0 0 0 .002-5.347A9.99 9.99 0 0 1 4.865 4.99a3 3 0 0 0 4.631-2.674 9.99 9.99 0 0 1 5.007.002 3 3 0 0 0 4.632 2.672c.579.59 1.093 1.261 1.525 2.01.433.749.757 1.53.978 2.326a3 3 0 0 0-.002 5.347 9.99 9.99 0 0 1-2.501 4.337 3 3 0 0 0-4.631 2.674 9.99 9.99 0 0 1-5.007-.002 3 3 0 0 0-4.632-2.672A10.018 10.018 0 0 1 3.34 17zm5.66.196a4.993 4.993 0 0 1 2.25 2.77c.499.047 1 .048 1.499.001A4.993 4.993 0 0 1 15 17.197a4.993 4.993 0 0 1 3.525-.565c.29-.408.54-.843.748-1.298A4.993 4.993 0 0 1 18 12c0-1.26.47-2.437 1.273-3.334a8.126 8.126 0 0 0-.75-1.298A4.993 4.993 0 0 1 15 6.804a4.993 4.993 0 0 1-2.25-2.77c-.499-.047-1-.048-1.499-.001A4.993 4.993 0 0 1 9 6.803a4.993 4.993 0 0 1-3.525.565 7.99 7.99 0 0 0-.748 1.298A4.993 4.993 0 0 1 6 12c0 1.26-.47 2.437-1.273 3.334a8.126 8.126 0 0 0 .75 1.298A4.993 4.993 0 0 1 9 17.196zM12 15a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" fill="rgba(0,0,0,1)"/></svg>
</button>
<div class="settings-cog-menu" aria-hidden="true" aria-label="website appeareance settings menu" id="settings-menu" style="visibility: hidden;">
</div>
<header>
    <div class="header-content-box">
        <h1>Jason Kovalchick</h1>
        <div class="header-menu">
            <a href="/">home</a>
            <a href="/blog/">blog</a>
            <a href="/about/">about</a>
            <a href="/contact/">contact</a>
            <a href="/portfolio/">portfolio</a>
            <!-- <a href="">resume</a>
            <a href="">info</a> -->
            </div>
    </div>
    <div class="header-extra-box" id="extra-box">
        <p></p>
    </div>
</header>
<body>

    <main>
        <section class="post-header">
        </section>

        <section class="post-content">
            <h1 id="post-title">Chatbot Uses for Building Design</h1>
            <div class="date-time-socialtags">
                <p class="date-time">13 March 2023</p>
                <div class="socialtags">
                    <button aria-label="button to copy to clipboard" tabindex="0">
                        <svg aria-label="svg of a paperclip" title="copy to clipboard" id="copy-to-clip" onClick="copyToClip()" aria-hidden="true" data-prefix="fal" data-icon="paperclip" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>Copy to Clipboard</title><path fill="currentColor" d="M149.106 512c-33.076 0-66.153-12.59-91.333-37.771-50.364-50.361-50.364-132.305-.002-182.665L319.842 29.498c39.331-39.331 103.328-39.331 142.66 0 39.331 39.332 39.331 103.327 0 142.657l-222.63 222.626c-28.297 28.301-74.347 28.303-102.65 0-28.3-28.301-28.3-74.349 0-102.649l170.301-170.298c4.686-4.686 12.284-4.686 16.97 0l5.661 5.661c4.686 4.686 4.686 12.284 0 16.971l-170.3 170.297c-15.821 15.821-15.821 41.563.001 57.385 15.821 15.82 41.564 15.82 57.385 0l222.63-222.626c26.851-26.851 26.851-70.541 0-97.394-26.855-26.851-70.544-26.849-97.395 0L80.404 314.196c-37.882 37.882-37.882 99.519 0 137.401 37.884 37.881 99.523 37.882 137.404.001l217.743-217.739c4.686-4.686 12.284-4.686 16.97 0l5.661 5.661c4.686 4.686 4.686 12.284 0 16.971L240.44 474.229C215.26 499.41 182.183 512 149.106 512z" class=""></path></svg>
                    </button>
                    <button aria-label="button to article on substack" tabindex="0">
                        <!-- <a href="https://jasonkovalchick.substack.com/p/role-of-ml-and-its-potential-for?sd=pf" target="_blank"><svg aria-label="svg of substack logo" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Substack</title><path fill="currentColor" d="M22.539 8.242H1.46V5.406h21.08v2.836zM1.46 10.812V24L12 18.11 22.54 24V10.812H1.46zM22.54 0H1.46v2.836h21.08V0z"/></svg></a> -->
                    </button>
                    <button aria-label="button to share to twitter" tabindex="0" onClick="openToTwitter()">
                        <svg aria-label="svg of twitter logo" viewBox="328 355 335 276" xmlns="http://www.w3.org/2000/svg"><title>Share to Twitter</title><path  fill="currentColor" d="M 630, 425A 195, 195 0 0 1 331, 600A 142, 142 0 0 0 428, 570A  70,  70 0 0 1 370, 523A  70,  70 0 0 0 401, 521A  70,  70 0 0 1 344, 455A  70,  70 0 0 0 372, 460A  70,  70 0 0 1 354, 370A 195, 195 0 0 0 495, 442A  67,  67 0 0 1 611, 380A 117, 117 0 0 0 654, 363A  65,  65 0 0 1 623, 401A 117, 117 0 0 0 662, 390A  65,  65 0 0 1 630, 425Z"/></svg>
                    </button>
                </div>
            </div>

        <h2>Intro</h2>    
        <p>There is a wave of people that suggest chatbots and AI in general will be replacing jobs, from entry level secretarial and customer service to computer programmers themselves. I do not doubt some jobs will be lost, but I believe stronger that more jobs will be streamlined and new positions will be created. Chatbots and AI are more useful as tools for people to use, they cannot do anything by themselves and certainly not without help. That could of change, nobody though ChatGPT or any of the other bots Microsoft or Meta released would be possible last year, or at the very least this widespread. But for now let us benchmark the current state of things.</p>
        <h2>Idea</h2>
        <p>I presume that chatbots will be helpful for people in the building construction industry for a few reasons. Meeting notes can be recorded, transcribed, and feed to an AI and the process for capturing the important action items and organizing them will be streamlined. A human will still have to proofread what is spit out and correct where errors are made, the bot is only so good, but it will be faster than a person starting from scratch. Though on the design side I presume it would be useful for asking quick questions about code and that’s what I want to determine with this post. My plan is to train a bot, ask it and ChatGPT the same question, and validate the responses. From that, I hope to find out if a specifically trained bot is more useful than a generalist bot or if either of them are correct or helpful.</p>
        <h2>Method</h2>
        <p>I neither have the technical know how nor the resources to train a chatbot myself. There are methods using a Google Colab notebooks or Hugginface spaces to train a model, but I have not been able to make them work. But I did find a website where I can feed it a pdf and it will train a bot to pull information from it. That website is <a href="chatbase.co" target="_blank">chatbase.co</a>. </p>
        <h2>Training the Bot</h2>
        <p>For the training set I am using Chapter 7 of NFPA 101, 2018 version, pages 123-208. Chapter 7 is mostly text, which is the only type of data the bot can learn from, there are few images, which are ignored by the bot. Being mostly text or text that explains accompanying images makes it a good dataset to use. I had to limit it to only these specific pages of the code because there is a character limit for the free trail on this website. Though this should be sufficient since I will only be asking it questions about the contents of what I specifically feed it. If it can do this it would likely be able to do so on a bigger dataset, but for now I will start small.</p>
        <h2>Testing Methodology</h2>
        <p>There are few different kinds of questions that I think are the most useful to ask a bot. Definitions, Explanation, Clarification, and Follow Up. </p>
        <ul>
            <li>A definition simply asks to tell us what it knows.</li>
            <li>An explanations asks it to tell us what it knows and why, also perhaps where it found the information.</li>
            <li>Clarification asks it to confirm what we told it and explain a little bit more, if it clarifies incorrectly this is of significance.</li>
            <li>A follow up is a question that could be any of the former types of questions but continues a line of thinking of a previous question. Tests continuity of thought and conversation ability.</li>
        </ul>
        <p>For the sake of this experiment I will not be ‘prompt engineering’, so I will ask it questions in the same style as if I were quickly asking a colleague.</p>
        <p>Also I will be asking ChatGPT the same questions, ChatGPT is a generalist model that was trained on a vast training set. <a href="chatbase.co" target="_blank">chatbase.co</a> bots are presumably ChatGPT as well but it will parse the information I give it in for context when giving an answer, which in this case are sections of Chapter 7 of NFPA. I’ll refer to the new bot as Custom Bot and ChatGPT as ChatGPT.</p>
        <h2>Questions</h2>
        <p>Also I will be asking ChatGPT the same questions, ChatGPT is a generalist model that was trained on a vast training set. Chatbase.co bots are presumably ChatGPT as well but it will parse the information I give it in for context when giving an answer, which in this case are sections of Chapter 7 of NFPA. I’ll refer to the new bot as Custom Bot and ChatGPT as ChatGPT.</p>
        <h3>Definitions</h3>
        <ul>
            <li>What is an area of refuge?</li>
            <li>What is an exit discharge, and what would be some examples?</li>
            <li>What is the occupant load factor for a kitchen, classroom, and a high hazard industrial uses?</li>
        </ul>
        <h3>Explanations</h3>
        <ul>
            <li>Why do we have areas of refuges in stairs?</li>
            <ul>
                <li>Where would I find information to determine the size of an area of refuge?</li>
            </ul>
            <li>Why are there different measurements for maximum travel distances to exits based on use cases?</li>
            <ul>
                <li>Where would I find this information, is there a table?</li>
            </ul>
            <li>What types of considerations should I make when deciding door swings in my building?</li>
        </ul>
        <h3>Clarifications</h3>
        <ul>
            <li>I found the occupant load to be 30 ft^2/person for a swimming pool deck is that correct?</li>
            <li>Is it true that adding sprinklers does not change the length requirements of an egress path?</li>
            <li>Are scissor staircases just as safe as regular staircases, what are some examples that prove this to be true?</li>
        </ul>
        <h2>Results</h2>
        <h3>First Impressions</h3>
        <p>ChatGPT is much more long winded and far less concise with its answers. Feels like a student trying to get to a word limit in an essay. If I had asked in the prompt for shorter answers I’m sure it would have given me shorter answers but that’s not what I did.</p>
        <p>Custom Bot is much more concise, though this may be for economic reasons. The website’s owner may be injecting, without my knowledge, and this is just a guess, something along the lines of “keep the answer short and concise” to the end of whatever I type in. Each word that gets generated costs money so the owner would be incentivized to do this, especially for people using the free trial, like myself. Also, from using the website I think I can see what is exactly happening. The NFPA code is not being retrained as part of the training set, but is just being parsed by the bot and reinserted with my prompt as context for the generated answer. I think this is true because below the chat section is it coping lines from the NFPA pdf as “sources”, see image. This would be an inexpensive way to “train a bot” without actually having to do any training. In layman’s terms its just doing an advanced search through the submitted PDF for keywords and using the results to achieve a better response. </p>

        <img src="/blog/2023/chatbot-uses-for-building-design/content/sources.png" alt="Sources shown at the bottom of chatbase.co website after answering a prompt">

        <h2>Accuracy</h2>
        <table id=table1 style="width: 100%">
            <tbody><tr>
            <th style="text-align: center;">Question</th><th style="text-align: center;">ChatGPT</th style="text-align: center;"><th style="text-align: center;">Custom Bot</th><th style="width: 50%">Note</th>
            </tr>
            <tr style="text-align: center;">
            <td>1</td><td>✅</td><td>✅</td><td style="text-align: left;">ChatGPT mentioned ADA as well as NFPA 101, Custom Bot only referenced NFPA 101.</td>
            </tr>
            <tr style="text-align: center;">
            <td>2</td><td>✅</td><td>✅</td><td style="text-align: left;">Both were adequate responses with ChatGPT’s being better.</td>
            </tr>
            <tr style="text-align: center;">
            <td>3</td><td>❌</td><td>❌</td><td style="text-align: left;">Both answers were not great, I intended for it to reference Table 7.3.1.2 Occupant Load Factor. The Custom Bot didn’t even try to answer. ChatGPT gave an answer using IBC values that was in a way correct and from Table 1004.5 but not all the values it gave me made sense.</td>
            </tr>
            <tr style="text-align: center;">
            <td>4</td><td>✅</td><td>✅</td><td style="text-align: left;">Both were correct but ChatGPT’s answer was better.</td>
            </tr>
            <tr style="text-align: center;">
            <td>5</td><td>❌</td><td>❌</td><td style="text-align: left;">Custom Bot just cites the definition and not where I would actually find the information. ChatGPT gives incorrect values from the IBC or gives other values that make no sense without more context. Either way both bots didn’t tell me where to find the information specifically or help clarify given a somewhat vague prompt. So both just spit something out without questioning the vagueness of my prompt. Like if I asked someone what their favorite fast food was and they said “the #4 meal”</td>
            </tr>
            <tr style="text-align: center;">
            <td>6</td><td>❌</td><td>❌</td><td style="text-align: left;">Both give technically correct answers but then fail when trying to explain with examples. ChatGPT compares a small office to a high-occupancy building where the word usage comparing lengths is inconsistent. Custom Bot states that nursing home occupants may have limited mobility and may have longer travel distances to exits. If not all exits are accessible this may be true but in most nursing homes most exits are accessible and by necessity shorter. Either way both lack context and good examples to help explain why. If either bot had neglected examples their answers would have been good enough, but they both gave poor examples.</td>
            </tr>
            <tr style="text-align: center;">
            <td>7</td><td>❌</td><td>❌</td><td style="text-align: left;">ChatGPT, neither references are correct, are in the right areas of the code, but incorrect. Custom Bot cites a table that doesn’t exist.</td>
            </tr>
            <tr style="text-align: center;">
            <td>8</td><td>✅</td><td>✅</td><td style="text-align: left;">Both gave good reasons, there is no one correct answer but both were fine. Both used accessibility, flow, security, and occupancy type as considerations.</td>
            </tr>
            <tr style="text-align: center;">
            <td>9</td><td>❌</td><td>❌</td><td style="text-align: left;">I intended for an answer to come from NFPA 101 Table 7.3.1.2, I don’t know where ChatGPT got 15 ft^2/person and Custom Bot said I was correct but cited the 2018 IBC, I couldn’t find that value in the IBC. Neither gave good answers.</td>
            </tr>
            <tr style="text-align: center;">
            <td>10</td><td>✅</td><td>❌</td><td style="text-align: left;">Asked about length, both stated that adding sprinklers does not “necessarily” or “generally” change allowable travel distance which is a half truth because context is needed. But ChatGPT continued and stated a definite correct answer of yes it can change allowable length and cited the IBC. Custom Bot never gave a definite answer and started talking about egress width and stated answers can vary.</td>
            </tr>
            <tr style="text-align: center;">
            <td>11</td><td>✅</td><td>✅</td><td style="text-align: left;">Both stated scissor staircases are safe if properly constructed and gave examples albeit they were more architectural examples.</td>
            </tr>
            <tr style="text-align: center;">
            <td>Total</td><td>6/10</td><td>5/10</td><td style="text-align: left;">Both gave answers that were correct when asked for broad generalities. Neither gave good specific answers or good “real life” examples to any explanation. ChatGPT was very long-winded with its answers and this sometimes hurt clarity.</td>
            </tr>
            </tbody></table>

        <h2>Conclusion</h2>
        <p>Don’t use chatbots for questions about code that are any more specific than definitions and make sure it is given enough context with questions about definitions. For generalities like questions 4, 8, and 11 it gave correct answers that made sense. But those questions didn’t have “correct” answers, they more or less asked for ideas and considerations for problems. For anything specific, anything asking for a reference or to check a number, don’t even bother. I tried to find where the numbers that they spit out came from but most of the time couldn’t.</p>
        <p>Do not trust chatbots, they will convince you of lies very easily and if you know the right answer you would be better off just looking in the code yourself to find it and check for yourself. It took just as much time or even more to try and validate answers using either chatbot than it would have had it just googled a question or searched a codebook myself.</p>
        <p>Many times people use these chatbots and come in with low expectations when asking it questions. They then take the answers, become surprised by them, and self-evaluate the bot at a higher level than their expectations and give it praise. I asked general questions with broad answer and specific questions with specific correct answers. It answered the former OK and the latter terribly. It’s answers need to be double checked for everything  because there is a nonzero percentage of the time where it just spits out nonsense and I know this from experience. </p>
        
        <h2>Appendix</h2>
        <a href="/blog/2023/chatbot-uses-for-building-design/content/Appendix.pdf" target="_blank">Transcript of my conversation with ChatGPT and Custom Bot</a>

        </section>
    </main>
    <script defer src="/Scripts/settings.js"></script>
</body>
<footer>
    <div>
        <ul>
            <li>
                <a target="_blank" href="https://jasonkovalchick.substack.com">substack</a>
            </li>
            <li>
                <a target="_blank" href="https://github.com/jasonkovalchick/jasonkovalchick.github.io">github</a>
            </li>
            <li>
                <a target="_blank" href="https://twitter.com/jasonkovalchick">twitter</a>
            </li>
        </ul>
    </div>
</footer>

</html>

